# Test configuration for dddart_repository_mongodb
#
# NOTE: Tests that require MongoDB (tagged with 'requires-mongo') should be run
# with --concurrency=1 to avoid collection conflicts:
#   dart test --concurrency=1
#
# Or exclude them if MongoDB is not available:
#   dart test --exclude-tags=requires-mongo

# Run all tests serially to avoid MongoDB collection conflicts
concurrency: 1

# Define test tags
tags:
  # Generator tests that use build_test (can hit file descriptor limits)
  generator:
    timeout: 2x
  
  # Property-based tests that run many iterations
  property-test:
    timeout: 2x
  
  # Tests that require a running MongoDB instance
  # Run serially to avoid collection conflicts
  requires-mongo:
    timeout: 2x

# Override settings for specific test files
override:
  generator_test.dart:
    # Increase timeout and run with concurrency limit
    timeout: 3x
